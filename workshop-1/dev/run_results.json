{"results": [{"node": {"raw_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n{# {{ config(materialized='ephemeral') }} #}\n\nWith supplier_parts as (\n  SELECT * from snowflake_sample_data.tpch_sf1.supplier\n    JOIN snowflake_sample_data.tpch_sf1.partsupp\n        ON s_suppkey=ps_suppkey\n            JOIN snowflake_sample_data.tpch_sf1.part\n                ON ps_partkey=p_partkey\n)\n\nSELECT\ns_suppkey as supplier_key,\ns_name as supplier_name,\ns_nationkey as nation_key,\ns_acctbal as account_balance,\nps_availqty as available_quantity,\nps_supplycost as supply_cost,\np_partkey as part_key,\np_name as part_name,\np_mfgr as part_manufacturer,\np_brand as part_brand,\np_type as part_type,\np_size as part_size,\np_container as part_container,\np_retailprice as part_retail_price\n    FROM supplier_parts", "database": "JAVEN_TESTING", "schema": "TEST", "fqn": ["workshop", "tpc_h", "supplier_parts"], "unique_id": "model.workshop.supplier_parts", "package_name": "workshop", "root_path": "/Users/johnaven/demo-code/dbt-workshop/workshop-1", "path": "tpc_h/supplier_parts.sql", "original_file_path": "models/tpc_h/supplier_parts.sql", "name": "supplier_parts", "resource_type": "model", "alias": "supplier_parts", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [], "sources": [], "depends_on": {"nodes": [], "macros": []}, "docrefs": [{"documentation_name": "doc_supplier_parts", "documentation_package": "", "column_name": null}], "description": "This table is the join between SUPPLIER, PARTSUPP and PART on SUPPKEY and PARTKEY.\n\nThe important fields that are retained in the join are:\n* nation_key\n* account_balance\n* supplier_name\n* available_quantity\n* supply_cost\n* part_name\n* part_manufacturing\n* part_brand\n* part_type\n* part_size", "columns": {"part_key": {"name": "part_key", "description": "row id", "data_type": null}, "supplier_key": {"name": "supplier_key", "description": "", "data_type": null}, "nation_key": {"name": "nation_key", "description": "", "data_type": null}}, "patch_path": "models/tpc_h/schema.yml", "build_path": "dev/run/workshop/tpc_h/supplier_parts.sql", "compiled": true, "compiled_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nWith supplier_parts as (\n  SELECT * from snowflake_sample_data.tpch_sf1.supplier\n    JOIN snowflake_sample_data.tpch_sf1.partsupp\n        ON s_suppkey=ps_suppkey\n            JOIN snowflake_sample_data.tpch_sf1.part\n                ON ps_partkey=p_partkey\n)\n\nSELECT\ns_suppkey as supplier_key,\ns_name as supplier_name,\ns_nationkey as nation_key,\ns_acctbal as account_balance,\nps_availqty as available_quantity,\nps_supplycost as supply_cost,\np_partkey as part_key,\np_name as part_name,\np_mfgr as part_manufacturer,\np_brand as part_brand,\np_type as part_type,\np_size as part_size,\np_container as part_container,\np_retailprice as part_retail_price\n    FROM supplier_parts", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nWith supplier_parts as (\n  SELECT * from snowflake_sample_data.tpch_sf1.supplier\n    JOIN snowflake_sample_data.tpch_sf1.partsupp\n        ON s_suppkey=ps_suppkey\n            JOIN snowflake_sample_data.tpch_sf1.part\n                ON ps_partkey=p_partkey\n)\n\nSELECT\ns_suppkey as supplier_key,\ns_name as supplier_name,\ns_nationkey as nation_key,\ns_acctbal as account_balance,\nps_availqty as available_quantity,\nps_supplycost as supply_cost,\np_partkey as part_key,\np_name as part_name,\np_mfgr as part_manufacturer,\np_brand as part_brand,\np_type as part_type,\np_size as part_size,\np_container as part_container,\np_retailprice as part_retail_price\n    FROM supplier_parts", "wrapped_sql": "None"}, "error": null, "status": "SUCCESS 1", "execution_time": 4.499508857727051, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-02-04T14:52:22.002099Z", "completed_at": "2020-02-04T14:52:22.025038Z"}, {"name": "execute", "started_at": "2020-02-04T14:52:22.025375Z", "completed_at": "2020-02-04T14:52:26.500489Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n{# {{ config(materialized='ephemeral') }} #}\n\nWith customer_nation_region as (\n  SELECT * from snowflake_sample_data.tpch_sf1.customer\n    JOIN snowflake_sample_data.tpch_sf1.nation\n        ON n_nationkey=c_nationkey\n            JOIN snowflake_sample_data.tpch_sf1.region\n                ON n_regionkey=r_regionkey\n)\n\nSELECT\nr_name as region,\nn_name as nation,\nn_nationkey as nation_key,\nc_name as customer_name,\nc_acctbal as account_balance,\nc_mktsegment as market_segment\n    FROM customer_nation_region", "database": "JAVEN_TESTING", "schema": "TEST", "fqn": ["workshop", "tpc_h", "customer_nation_region"], "unique_id": "model.workshop.customer_nation_region", "package_name": "workshop", "root_path": "/Users/johnaven/demo-code/dbt-workshop/workshop-1", "path": "tpc_h/customer_nation_region.sql", "original_file_path": "models/tpc_h/customer_nation_region.sql", "name": "customer_nation_region", "resource_type": "model", "alias": "customer_nation_region", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [], "sources": [], "depends_on": {"nodes": [], "macros": []}, "docrefs": [{"documentation_name": "doc_customer_nation_region", "documentation_package": "", "column_name": null}], "description": "This table is the join between REGION, NATION and CUSTOMER on REGIONKEY and NATIONKEY.\n\nThe important fields that are retained in the join are:\n* nation\n* region\n* customer_name\n* account_balance\n* market_segment", "columns": {"nation_key": {"name": "nation_key", "description": "", "data_type": null}, "region": {"name": "region", "description": "", "data_type": null}, "nation": {"name": "nation", "description": "", "data_type": null}, "customer_name": {"name": "customer_name", "description": "", "data_type": null}, "account_balance": {"name": "account_balance", "description": "", "data_type": null}, "market_segment": {"name": "market_segment", "description": "", "data_type": null}}, "patch_path": "models/tpc_h/schema.yml", "build_path": "dev/run/workshop/tpc_h/customer_nation_region.sql", "compiled": true, "compiled_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nWith customer_nation_region as (\n  SELECT * from snowflake_sample_data.tpch_sf1.customer\n    JOIN snowflake_sample_data.tpch_sf1.nation\n        ON n_nationkey=c_nationkey\n            JOIN snowflake_sample_data.tpch_sf1.region\n                ON n_regionkey=r_regionkey\n)\n\nSELECT\nr_name as region,\nn_name as nation,\nn_nationkey as nation_key,\nc_name as customer_name,\nc_acctbal as account_balance,\nc_mktsegment as market_segment\n    FROM customer_nation_region", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nWith customer_nation_region as (\n  SELECT * from snowflake_sample_data.tpch_sf1.customer\n    JOIN snowflake_sample_data.tpch_sf1.nation\n        ON n_nationkey=c_nationkey\n            JOIN snowflake_sample_data.tpch_sf1.region\n                ON n_regionkey=r_regionkey\n)\n\nSELECT\nr_name as region,\nn_name as nation,\nn_nationkey as nation_key,\nc_name as customer_name,\nc_acctbal as account_balance,\nc_mktsegment as market_segment\n    FROM customer_nation_region", "wrapped_sql": "None"}, "error": null, "status": "SUCCESS 1", "execution_time": 2.1481809616088867, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-02-04T14:52:27.016681Z", "completed_at": "2020-02-04T14:52:27.028954Z"}, {"name": "execute", "started_at": "2020-02-04T14:52:27.029293Z", "completed_at": "2020-02-04T14:52:29.163784Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n{# {{ config(materialized='ephemeral') }} #}\n\nSELECT\npart_key,\navg(available_quantity) as average_available_quantity,\navg(supply_cost) as average_supply_cost\n    FROM {{ref('supplier_parts')}}\n        GROUP BY\n        part_key", "database": "JAVEN_TESTING", "schema": "TEST", "fqn": ["workshop", "tpc_h", "average_supply_cost_and_available_quantity_per_part"], "unique_id": "model.workshop.average_supply_cost_and_available_quantity_per_part", "package_name": "workshop", "root_path": "/Users/johnaven/demo-code/dbt-workshop/workshop-1", "path": "tpc_h/average_supply_cost_and_available_quantity_per_part.sql", "original_file_path": "models/tpc_h/average_supply_cost_and_available_quantity_per_part.sql", "name": "average_supply_cost_and_available_quantity_per_part", "resource_type": "model", "alias": "average_supply_cost_and_available_quantity_per_part", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [["supplier_parts"]], "sources": [], "depends_on": {"nodes": ["model.workshop.supplier_parts"], "macros": []}, "docrefs": [], "description": "", "columns": {}, "patch_path": null, "build_path": "dev/run/workshop/tpc_h/average_supply_cost_and_available_quantity_per_part.sql", "compiled": true, "compiled_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nSELECT\npart_key,\navg(available_quantity) as average_available_quantity,\navg(supply_cost) as average_supply_cost\n    FROM JAVEN_TESTING.TEST.supplier_parts\n        GROUP BY\n        part_key", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nSELECT\npart_key,\navg(available_quantity) as average_available_quantity,\navg(supply_cost) as average_supply_cost\n    FROM JAVEN_TESTING.TEST.supplier_parts\n        GROUP BY\n        part_key", "wrapped_sql": "None"}, "error": null, "status": "SUCCESS 1", "execution_time": 1.9739105701446533, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-02-04T14:52:29.498550Z", "completed_at": "2020-02-04T14:52:29.509150Z"}, {"name": "execute", "started_at": "2020-02-04T14:52:29.509541Z", "completed_at": "2020-02-04T14:52:31.471288Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n{# {{ config(materialized='ephemeral') }} #}\n\nSELECT\nsupplier_key,\npart_key,\navg(account_balance) as average_account_balance\n    FROM {{ref('supplier_parts')}}\n        GROUP BY\n        supplier_key,\n        part_key", "database": "JAVEN_TESTING", "schema": "TEST", "fqn": ["workshop", "tpc_h", "average_account_balance_by_part_and_supplier"], "unique_id": "model.workshop.average_account_balance_by_part_and_supplier", "package_name": "workshop", "root_path": "/Users/johnaven/demo-code/dbt-workshop/workshop-1", "path": "tpc_h/average_account_balance_by_part_and_supplier.sql", "original_file_path": "models/tpc_h/average_account_balance_by_part_and_supplier.sql", "name": "average_account_balance_by_part_and_supplier", "resource_type": "model", "alias": "average_account_balance_by_part_and_supplier", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [["supplier_parts"]], "sources": [], "depends_on": {"nodes": ["model.workshop.supplier_parts"], "macros": []}, "docrefs": [], "description": "", "columns": {}, "patch_path": null, "build_path": "dev/run/workshop/tpc_h/average_account_balance_by_part_and_supplier.sql", "compiled": true, "compiled_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nSELECT\nsupplier_key,\npart_key,\navg(account_balance) as average_account_balance\n    FROM JAVEN_TESTING.TEST.supplier_parts\n        GROUP BY\n        supplier_key,\n        part_key", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "/*\nModifications \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nSELECT\nsupplier_key,\npart_key,\navg(account_balance) as average_account_balance\n    FROM JAVEN_TESTING.TEST.supplier_parts\n        GROUP BY\n        supplier_key,\n        part_key", "wrapped_sql": "None"}, "error": null, "status": "SUCCESS 1", "execution_time": 1.869642972946167, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-02-04T14:52:31.903042Z", "completed_at": "2020-02-04T14:52:31.912350Z"}, {"name": "execute", "started_at": "2020-02-04T14:52:31.912666Z", "completed_at": "2020-02-04T14:52:33.771471Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n{# {{ config(materialized='ephemeral') }} #}\n\nSELECT\nnation_key,\navg(account_balance) as average_account_balance\n    FROM {{ref('customer_nation_region')}}\n        GROUP BY\n        nation_key", "database": "JAVEN_TESTING", "schema": "TEST", "fqn": ["workshop", "tpc_h", "average_acctbal_by_nation"], "unique_id": "model.workshop.average_acctbal_by_nation", "package_name": "workshop", "root_path": "/Users/johnaven/demo-code/dbt-workshop/workshop-1", "path": "tpc_h/average_acctbal_by_nation.sql", "original_file_path": "models/tpc_h/average_acctbal_by_nation.sql", "name": "average_acctbal_by_nation", "resource_type": "model", "alias": "average_acctbal_by_nation", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [["customer_nation_region"]], "sources": [], "depends_on": {"nodes": ["model.workshop.customer_nation_region"], "macros": []}, "docrefs": [], "description": "", "columns": {}, "patch_path": null, "build_path": "dev/run/workshop/tpc_h/average_acctbal_by_nation.sql", "compiled": true, "compiled_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nSELECT\nnation_key,\navg(account_balance) as average_account_balance\n    FROM JAVEN_TESTING.TEST.customer_nation_region\n        GROUP BY\n        nation_key", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nSELECT\nnation_key,\navg(account_balance) as average_account_balance\n    FROM JAVEN_TESTING.TEST.customer_nation_region\n        GROUP BY\n        nation_key", "wrapped_sql": "None"}, "error": null, "status": "SUCCESS 1", "execution_time": 1.6274278163909912, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-02-04T14:52:34.311500Z", "completed_at": "2020-02-04T14:52:34.321800Z"}, {"name": "execute", "started_at": "2020-02-04T14:52:34.322188Z", "completed_at": "2020-02-04T14:52:35.937780Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nSELECT\nsp.*,\nascaqsp.average_available_quantity,\nascaqsp.average_supply_cost\n    FROM {{ref('supplier_parts')}} as sp\n        JOIN {{ref('average_supply_cost_and_available_quantity_per_part')}} as ascaqsp\n        ON\n        ascaqsp.part_key = sp.part_key", "database": "JAVEN_TESTING", "schema": "TEST", "fqn": ["workshop", "tpc_h", "supplier_parts_aggregates"], "unique_id": "model.workshop.supplier_parts_aggregates", "package_name": "workshop", "root_path": "/Users/johnaven/demo-code/dbt-workshop/workshop-1", "path": "tpc_h/supplier_parts_aggregates.sql", "original_file_path": "models/tpc_h/supplier_parts_aggregates.sql", "name": "supplier_parts_aggregates", "resource_type": "model", "alias": "supplier_parts_aggregates", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [["supplier_parts"], ["average_supply_cost_and_available_quantity_per_part"]], "sources": [], "depends_on": {"nodes": ["model.workshop.supplier_parts", "model.workshop.average_supply_cost_and_available_quantity_per_part"], "macros": []}, "docrefs": [], "description": "", "columns": {}, "patch_path": null, "build_path": "dev/run/workshop/tpc_h/supplier_parts_aggregates.sql", "compiled": true, "compiled_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nSELECT\nsp.*,\nascaqsp.average_available_quantity,\nascaqsp.average_supply_cost\n    FROM JAVEN_TESTING.TEST.supplier_parts as sp\n        JOIN JAVEN_TESTING.TEST.average_supply_cost_and_available_quantity_per_part as ascaqsp\n        ON\n        ascaqsp.part_key = sp.part_key", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nSELECT\nsp.*,\nascaqsp.average_available_quantity,\nascaqsp.average_supply_cost\n    FROM JAVEN_TESTING.TEST.supplier_parts as sp\n        JOIN JAVEN_TESTING.TEST.average_supply_cost_and_available_quantity_per_part as ascaqsp\n        ON\n        ascaqsp.part_key = sp.part_key", "wrapped_sql": "None"}, "error": null, "status": "SUCCESS 1", "execution_time": 3.282517910003662, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-02-04T14:52:36.451210Z", "completed_at": "2020-02-04T14:52:36.461197Z"}, {"name": "execute", "started_at": "2020-02-04T14:52:36.461603Z", "completed_at": "2020-02-04T14:52:39.732620Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nSELECT\ncnr.*,\naabn.average_account_balance as avg_acct_bal_by_nation\n    FROM {{ref('customer_nation_region')}} as cnr\n        JOIN {{ref('average_acctbal_by_nation')}} as aabn\n        ON\n        aabn.nation_key = cnr.nation_key", "database": "JAVEN_TESTING", "schema": "TEST", "fqn": ["workshop", "tpc_h", "customer_nation_region_aggregates"], "unique_id": "model.workshop.customer_nation_region_aggregates", "package_name": "workshop", "root_path": "/Users/johnaven/demo-code/dbt-workshop/workshop-1", "path": "tpc_h/customer_nation_region_aggregates.sql", "original_file_path": "models/tpc_h/customer_nation_region_aggregates.sql", "name": "customer_nation_region_aggregates", "resource_type": "model", "alias": "customer_nation_region_aggregates", "config": {"enabled": true, "materialized": "table", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [["customer_nation_region"], ["average_acctbal_by_nation"]], "sources": [], "depends_on": {"nodes": ["model.workshop.customer_nation_region", "model.workshop.average_acctbal_by_nation"], "macros": []}, "docrefs": [], "description": "", "columns": {"nation_key": {"name": "nation_key", "description": "", "data_type": null}}, "patch_path": "models/tpc_h/schema.yml", "build_path": "dev/run/workshop/tpc_h/customer_nation_region_aggregates.sql", "compiled": true, "compiled_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nSELECT\ncnr.*,\naabn.average_account_balance as avg_acct_bal_by_nation\n    FROM JAVEN_TESTING.TEST.customer_nation_region as cnr\n        JOIN JAVEN_TESTING.TEST.average_acctbal_by_nation as aabn\n        ON\n        aabn.nation_key = cnr.nation_key", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\nSELECT\ncnr.*,\naabn.average_account_balance as avg_acct_bal_by_nation\n    FROM JAVEN_TESTING.TEST.customer_nation_region as cnr\n        JOIN JAVEN_TESTING.TEST.average_acctbal_by_nation as aabn\n        ON\n        aabn.nation_key = cnr.nation_key", "wrapped_sql": "None"}, "error": null, "status": "SUCCESS 1", "execution_time": 2.556119918823242, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-02-04T14:52:40.138543Z", "completed_at": "2020-02-04T14:52:40.150211Z"}, {"name": "execute", "started_at": "2020-02-04T14:52:40.150536Z", "completed_at": "2020-02-04T14:52:42.693616Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n{{ config(materialized='view') }}\n\nselect\nspa.supplier_name,\nspa.account_balance as supplier_account_balance,\ncnra.account_balance as customer_account_balance,\ncnra.avg_acct_bal_by_nation as average_account_balance_by_nation,\nspa.available_quantity,\nspa.average_available_quantity,\nspa.supply_cost,\nspa.average_supply_cost,\nspa.part_name,\nspa.part_manufacturer,\nspa.part_brand,\nspa.part_type,\nspa.part_size,\ncnra.nation,\ncnra.region,\ncnra.market_segment,\ncnra.customer_name\n    FROM {{ref('supplier_parts_aggregates')}} as spa\n        JOIN {{ref('customer_nation_region_aggregates')}} as cnra\n        ON\n        spa.nation_key = cnra.nation_key", "database": "JAVEN_TESTING", "schema": "TEST", "fqn": ["workshop", "tpc_h", "analytics_view"], "unique_id": "model.workshop.analytics_view", "package_name": "workshop", "root_path": "/Users/johnaven/demo-code/dbt-workshop/workshop-1", "path": "tpc_h/analytics_view.sql", "original_file_path": "models/tpc_h/analytics_view.sql", "name": "analytics_view", "resource_type": "model", "alias": "analytics_view", "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "tags": []}, "tags": [], "refs": [["supplier_parts_aggregates"], ["customer_nation_region_aggregates"]], "sources": [], "depends_on": {"nodes": ["model.workshop.supplier_parts_aggregates", "model.workshop.customer_nation_region_aggregates"], "macros": []}, "docrefs": [{"documentation_name": "doc_analytics_view", "documentation_package": "", "column_name": null}], "description": "This is the final, flattened, analytics view of the data. It contains all necessary information about parts, suppliers, \ncustomers and the nations + regions involved. The aggregates in this view are:\n* Average Account Balance by Nation\n* Average Supply Cost by Part\n* Average Availability by Part\n\nThe important fields that are retained in the join are:\n* SUPPLIER_NAME\n* SUPPLIER_ACCOUNT_BALANCE\n* CUSTOMER_ACCOUNT_BALANCE\n* AVERAGE_ACCOUNT_BALANCE_BY_NATION\n* AVAILABLE_QUANTITY\n* AVERAGE_AVAILABLE_QUANTITY\n* SUPPLY_COST\n* AVERAGE_SUPPLY_COST\n* PART_NAME\n* PART_MANUFACTURER\n* PART_BRAND\n* PART_TYPE\n* PART_SIZE\n* NATION\n* REGION\n* MARKET_SEGMENT\n* CUSTOMER_NAME", "columns": {}, "patch_path": "models/tpc_h/schema.yml", "build_path": "dev/run/workshop/tpc_h/analytics_view.sql", "compiled": true, "compiled_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nselect\nspa.supplier_name,\nspa.account_balance as supplier_account_balance,\ncnra.account_balance as customer_account_balance,\ncnra.avg_acct_bal_by_nation as average_account_balance_by_nation,\nspa.available_quantity,\nspa.average_available_quantity,\nspa.supply_cost,\nspa.average_supply_cost,\nspa.part_name,\nspa.part_manufacturer,\nspa.part_brand,\nspa.part_type,\nspa.part_size,\ncnra.nation,\ncnra.region,\ncnra.market_segment,\ncnra.customer_name\n    FROM JAVEN_TESTING.TEST.supplier_parts_aggregates as spa\n        JOIN JAVEN_TESTING.TEST.customer_nation_region_aggregates as cnra\n        ON\n        spa.nation_key = cnra.nation_key", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "/*\nCopyright \u00a9 2019 Hashmap, Inc\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n\n\nselect\nspa.supplier_name,\nspa.account_balance as supplier_account_balance,\ncnra.account_balance as customer_account_balance,\ncnra.avg_acct_bal_by_nation as average_account_balance_by_nation,\nspa.available_quantity,\nspa.average_available_quantity,\nspa.supply_cost,\nspa.average_supply_cost,\nspa.part_name,\nspa.part_manufacturer,\nspa.part_brand,\nspa.part_type,\nspa.part_size,\ncnra.nation,\ncnra.region,\ncnra.market_segment,\ncnra.customer_name\n    FROM JAVEN_TESTING.TEST.supplier_parts_aggregates as spa\n        JOIN JAVEN_TESTING.TEST.customer_nation_region_aggregates as cnra\n        ON\n        spa.nation_key = cnra.nation_key", "wrapped_sql": "None"}, "error": null, "status": "SUCCESS 1", "execution_time": 1.795969009399414, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-02-04T14:52:42.993931Z", "completed_at": "2020-02-04T14:52:43.005401Z"}, {"name": "execute", "started_at": "2020-02-04T14:52:43.005725Z", "completed_at": "2020-02-04T14:52:44.788903Z"}], "fail": null, "warn": null, "skip": false}], "generated_at": "2020-02-04T14:52:46.486731Z", "elapsed_time": 27.614140272140503}